<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Travel Details</title>
    <link rel="website icon" type="png" href="../static/images/carpool_simplelogo.png"
          th:type="png" th:href="@{/images/carpool_simplelogo.png}">
    <link rel="stylesheet" href="../static/reset.css" th:href="@{/reset.css}">
    <link rel="stylesheet" href="../static/index.css" th:href="@{/index.css}">
</head>
<body>
<h1>Travel Details</h1>

<section class="main">
    <!--HEADER-->
    <header th:replace="index.html :: header"></header>
    <!--    CONTENT-->
    <div id="content">
        <h1>Travels as driver</h1>
        <div class="no-travels" th:if="${travels.isEmpty()}">
            <h2 th:text="#{travel.label.no-travels}">No travels to show</h2>
        </div>
        <table th:unless="${travels.isEmpty()}" class="table custom-table">
            <thead>
            <tr>
                <th scope="col" th:text="#{travel.label.driver}">Driver</th>
                <th scope="col" th:text="#{travel.label.departure-point}">Departure Point</th>
                <th scope="col" th:text="#{travel.label.arrival-point}">Arrival Point</th>
                <th scope="col" th:text="#{travel.label.free-spots}">Free Spots</th>
                <th scope="col" th:text="#{travel.label.distance}">Distance</th>
                <th scope="col" th:text="#{travel.label.duration}">Duration</th>
                <th scope="col" th:text="#{travel.label.departure-time}">Departure Time</th>
                <th scope="col" th:text="#{travel.label.arrival-time}">Arrival Time</th>
                <th scope="col" th:text="#{travel.label.status}">Status</th>
            </tr>
            </thead>
            <tbody th:each="travel : ${travels}">
            <tr>
                <td th:text="${travel.getDriverName()}">Driver</td>
                <td th:text="${travel.getDeparturePoint()}">Burgas</td>
                <td th:text="${travel.getArrivalPoint()}">Sofia</td>
                <td th:text="${travel.getFreeSpots()}">Free Spots</td>
                <td th:text="${travel.getDistance()}">150km</td>
                <td th:text="${travel.getDuration()}">1h 54min</td>
                <td th:text="${#temporals.format(travel.getDepartureTime(),'dd MMM y HH:mm')}">1-Jan 10:45</td>
                <td th:text="${#temporals.format(travel.getArrivalTime(),'dd MMM y HH:mm')}">2-Jan 10;45</td>
                <td th:text="${travel.getStatus()}">COMPLETED</td>
                <td th:if="${isAdmin} and ${!travel.getDriverName().equals(session.currentUser)}">
                    <a class="btn view" href="#" th:href="@{/travels/{id}(id=${travel.getId()})}"><i
                            class="fa-solid fa-eye fa-beat"></i></a>
                    <a class="btn edit" href="#" th:href="@{/travels/{id}/update(id=${travel.getId()})}"><i
                            class="fa-solid fa-pencil"></i></a>
                    <a class="btn delete" href="#" th:href="@{/travels/{id}/delete(id=${travel.getId()})}"><i
                            class="fa-solid fa-trash-can"></i></a>
                </td>

                <td th:if="${travel.getDriverName().equals(session.currentUser)}">

                    <a class="btn view" href="#" th:href="@{/travels/{id}(id=${travel.getId()})}"><i
                            class="fa-solid fa-eye fa-beat"></i></a>
                    <a class="btn edit" href="#" th:href="@{/travels/{id}/update(id=${travel.getId()})}"><i
                            class="fa-solid fa-pencil"></i></a>
                    <a class="btn delete" href="#" th:href="@{/travels/{id}/delete(id=${travel.getId()})}"><i
                            class="fa-solid fa-trash-can"></i></a>
                </td>
                <td th:if="${!travel.getDriverName().equals(session.currentUser)} and !${isAdmin}">
                    <a class="btn view" href="#" th:href="@{/travels/{id}(id=${travel.getId()})}"><i
                            class="fa-solid fa-eye fa-beat"></i></a>
                </td>
                <td th:if="${travel.getStatus() == T(com.example.carpooling.models.enums.TravelStatus).PLANNED}">
                    <a class="btn view" href="#" th:href="@{/travels/{id}/cancel(id=${travel.getId()})}">
                        <i class="fa-regular fa-xmark fa-beat"></i>
                    </a>
                </td>
            </tr>
        </table >
        <h1>Travels as passenger</h1>
        <div class="no-travels" th:if="${travelsAsPassenger.isEmpty()}">
            <h2 th:text="#{travel.label.no-travels}">No travels to show</h2>
        </div>
        <table  th:unless="${travelsAsPassenger.isEmpty()}" class="table custom-table">
            <thead>
            <tr>
                <th scope="col" th:text="#{travel.label.driver}">Driver</th>
                <th scope="col" th:text="#{travel.label.departure-point}">Departure Point</th>
                <th scope="col" th:text="#{travel.label.arrival-point}">Arrival Point</th>
                <th scope="col" th:text="#{travel.label.free-spots}">Free Spots</th>
                <th scope="col" th:text="#{travel.label.distance}">Distance</th>
                <th scope="col" th:text="#{travel.label.duration}">Duration</th>
                <th scope="col" th:text="#{travel.label.departure-time}">Departure Time</th>
                <th scope="col" th:text="#{travel.label.arrival-time}">Arrival Time</th>
                <th scope="col" th:text="#{travel.label.status}">Status</th>
            </tr>
            </thead>
            <tbody th:each="travel : ${travelsAsPassenger}">
            <tr>
                <td th:text="${travel.getDriverName()}">Driver</td>
                <td th:text="${travel.getDeparturePoint()}">Burgas</td>
                <td th:text="${travel.getArrivalPoint()}">Sofia</td>
                <td th:text="${travel.getFreeSpots()}">Free Spots</td>
                <td th:text="${travel.getDistance()}">150km</td>
                <td th:text="${travel.getDuration()}">1h 54min</td>
                <td th:text="${#temporals.format(travel.getDepartureTime(),'dd MMM y HH:mm')}">1-Jan 10:45</td>
                <td th:text="${#temporals.format(travel.getArrivalTime(),'dd MMM y HH:mm')}">2-Jan 10;45</td>
                <td th:text="${travel.getStatus()}">COMPLETED</td>
                <td th:if="${isAdmin} and ${!travel.getDriverName().equals(session.currentUser)}">
                    <a class="btn view" href="#" th:href="@{/travels/{id}(id=${travel.getId()})}"><i
                            class="fa-solid fa-eye fa-beat"></i></a>
                    <a class="btn edit" href="#" th:href="@{/travels/{id}/update(id=${travel.getId()})}"><i
                            class="fa-solid fa-pencil"></i></a>
                    <a class="btn delete" href="#" th:href="@{/travels/{id}/delete(id=${travel.getId()})}"><i
                            class="fa-solid fa-trash-can"></i></a>
                </td>

                <td th:if="${travel.getDriverName().equals(session.currentUser)}">

                    <a class="btn view" href="#" th:href="@{/travels/{id}(id=${travel.getId()})}"><i
                            class="fa-solid fa-eye fa-beat"></i></a>
                    <a class="btn edit" href="#" th:href="@{/travels/{id}/update(id=${travel.getId()})}"><i
                            class="fa-solid fa-pencil"></i></a>
                    <a class="btn delete" href="#" th:href="@{/travels/{id}/delete(id=${travel.getId()})}"><i
                            class="fa-solid fa-trash-can"></i></a>
                </td>
                <td th:if="${!travel.getDriverName().equals(session.currentUser)} and !${isAdmin}">
                    <a class="btn view" href="#" th:href="@{/travels/{id}(id=${travel.getId()})}"><i
                            class="fa-solid fa-eye fa-beat"></i></a>
                </td>
            </tr>
        </table>
    </div>
    <footer th:replace="index.html :: footer"></footer>
</section>
</body>
</html>
